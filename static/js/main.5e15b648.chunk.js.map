{"version":3,"sources":["components/search-form.js","components/pagination-links.js","components/github-avatar.js","components/list-user-item.js","components/list-organization-item.js","components/search-result-list.js","components/search-results.js","components/error-messages.js","api.js","components/root.js","index.js"],"names":["SearchForm","_ref","disabled","onSubmit","react_default","a","createElement","className","event","preventDefault","form","target","query","value","type","name","placeholder","PaginationLinks","hasPreviousPage","hasNextPage","endCursor","navigationAction","handleNavigation","navType","onClick","GraphQL","GitHubAvatar","login","src","href","concat","rel","alt","height","width","ListUserItem","bio","location","company","avatarUrl","followers","github_avatar","totalCount","ListOrganizationItem","description","websiteUrl","SearchResultList","edges","map","_ref2","cursor","node","list_user_item","Object","assign","key","list_organization_item","Error","SearchResults","search","userCount","search_result_list","pagination_links","pageInfo","ErrorMessages","errors","e","message","join","token","process","split","reverse","api","operationName","variables","arguments","length","undefined","axios","post","Root","headers","Authorization","then","resp","data","_React$useState","React","useState","_React$useState2","slicedToArray","currentResp","setCurrentResp","pageRef","useRef","sendSearchQuery","asyncToGenerator","regenerator_default","mark","_callee","navVars","wrap","_context","prev","next","first","current","currentPageNumber","cursors","1","after","loading","objectSpread","sent","stop","_x","_x2","apply","this","search_form","error_messages","search_results","afterCursor","pageData","ReactDOM","render","root","document","getElementById"],"mappings":"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","file":"static/js/main.5e15b648.chunk.js","sourcesContent":["import React from 'react';\n\nconst SearchForm = ({ disabled, onSubmit }) => {\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.target;\n    onSubmit(form.query.value);\n  };\n  return (\n    <div className=\"search-form\">\n      <form onSubmit={handleSubmit}>\n        <input type=\"search\" name=\"query\" placeholder=\"Search GitHub Users\" />\n        <button type=\"submit\" disabled={disabled}>\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n","import React from 'react';\n\nconst PaginationLinks = ({\n  hasPreviousPage,\n  hasNextPage,\n  endCursor,\n  navigationAction,\n}) => {\n  const handleNavigation = navType => event => {\n    event.preventDefault();\n    navigationAction({ navType, endCursor });\n  };\n  return (\n    <div className=\"pagination-links\">\n      <button\n        onClick={handleNavigation('PREV')}\n        className=\"previous-page\"\n        disabled={!hasPreviousPage}\n      >\n        Prev\n      </button>\n      <button\n        onClick={handleNavigation('NEXT')}\n        className=\"next-page\"\n        disabled={!hasNextPage}\n      >\n        Next\n      </button>\n    </div>\n  );\n};\n\nPaginationLinks.GraphQL = `\n  fragment PaginationLinksFragment on PageInfo {\n    hasPreviousPage\n    hasNextPage\n    endCursor\n  }\n`;\n\nexport default PaginationLinks;\n","import React from 'react';\n\nconst GitHubAvatar = ({ login, src }) => (\n  <a\n    href={`https://github.com/${login}`}\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n  >\n    <img\n      className=\"avatar\"\n      src={src}\n      alt={`@${login}`}\n      height=\"96\"\n      width=\"96\"\n    />\n  </a>\n);\n\nexport default GitHubAvatar;\n","import React from 'react';\n\nimport GitHubAvatar from './github-avatar.js';\n\nconst ListUserItem = ({\n  login,\n  name,\n  bio,\n  location,\n  company,\n  avatarUrl,\n  followers,\n}) => {\n  return (\n    <div className=\"user-list-item\">\n      <div className=\"user-avatar\">\n        <GitHubAvatar src={avatarUrl} login={login} />\n      </div>\n\n      <div className=\"user-main-info\">\n        <div className=\"user-name\">\n          <a\n            href={`https://github.com/${login}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {login}\n          </a>\n          <div>{name}</div>\n        </div>\n        {followers && (\n          <div className=\"user-followers\">{followers.totalCount} followers</div>\n        )}\n        <div className=\"user-bio\">{bio}</div>\n      </div>\n\n      <div className=\"user-location-info\">\n        <div>{company}</div>\n        <div>{location}</div>\n      </div>\n    </div>\n  );\n};\n\nListUserItem.GraphQL = `\n  fragment ListUserItemFragment on User {\n    login\n    name\n    bio\n    location\n    company\n    avatarUrl(size: 96)\n    followers {\n      totalCount\n    }\n  }\n`;\n\nexport default ListUserItem;\n","import React from 'react';\n\nimport GitHubAvatar from './github-avatar.js';\n\nconst ListOrganizationItem = ({\n  login,\n  name,\n  description,\n  location,\n  avatarUrl,\n  websiteUrl,\n}) => {\n  return (\n    <div className=\"user-list-item\">\n      <div className=\"user-avatar\">\n        <GitHubAvatar src={avatarUrl} login={login} />\n      </div>\n\n      <div className=\"user-main-info\">\n        <div className=\"user-name\">\n          <a\n            href={`https://github.com/${login}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {login}\n          </a>\n          <div>{name}</div>\n        </div>\n        {websiteUrl && (\n          <a href={websiteUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n            {websiteUrl}\n          </a>\n        )}\n        <div className=\"user-bio\">{description}</div>\n      </div>\n\n      <div className=\"user-location-info\">\n        <div>{location}</div>\n      </div>\n    </div>\n  );\n};\n\nListOrganizationItem.GraphQL = `\n  fragment ListOrganizationItemFragment on Organization {\n    login\n    name\n    description\n    location\n    websiteUrl\n    avatarUrl(size: 96)\n  }\n`;\n\nexport default ListOrganizationItem;\n","import React from 'react';\n\nimport ListUserItem from './list-user-item.js';\nimport ListOrganizationItem from './list-organization-item';\n\nconst SearchResultList = ({ edges }) => {\n  return (\n    <div className=\"user-list\">\n      {edges.map(({ cursor, node }) => {\n        switch (node.type) {\n          case 'User':\n            return <ListUserItem key={cursor} {...node} />;\n          case 'Organization':\n            return <ListOrganizationItem key={cursor} {...node} />;\n          default:\n            throw Error(`Unsupported search list item type ${node.type}`);\n        }\n      })}\n    </div>\n  );\n};\n\nSearchResultList.GraphQL = `\n  fragment SearchResultListFragment on SearchResultItemEdge {\n    cursor\n    node {\n      type: __typename\n      ... on User {\n        ...ListUserItemFragment\n      }\n      ... on Organization {\n        ...ListOrganizationItemFragment\n      }\n    }\n  }\n\n  ${ListUserItem.GraphQL}\n  ${ListOrganizationItem.GraphQL}\n`;\n\nexport default SearchResultList;\n","import React from 'react';\n\nimport PaginationLinks from './pagination-links.js';\nimport SearchResultList from './search-result-list.js';\n\nconst SearchResults = ({ search, navigationAction }) => {\n  return (\n    <div className=\"search-results\">\n      <div className=\"main\">\n        <div className=\"total-count\">Total Matching: {search.userCount}</div>\n        <SearchResultList edges={search.edges} />\n        <PaginationLinks\n          {...search.pageInfo}\n          navigationAction={navigationAction}\n        />\n      </div>\n    </div>\n  );\n};\n\nSearchResults.GraphQL = `\n  fragment SearchResultsFragment on SearchResultItemConnection {\n    userCount\n    pageInfo {\n      ...PaginationLinksFragment\n    }\n    edges {\n      ...SearchResultListFragment\n    }\n  }\n\n  ${PaginationLinks.GraphQL}\n  ${SearchResultList.GraphQL}\n`;\n\nexport default SearchResults;\n","import React from 'react';\n\nconst ErrorMessages = ({ errors }) => {\n  return <div className=\"errors\">{errors.map(e => e.message).join(', ')}</div>;\n};\n\nexport default ErrorMessages;\n","import axios from 'axios';\nimport Root from './components/root.js';\n\nconst GraphQLEndPoint = 'https://api.github.com/graphql';\nconst token = process.env.REACT_APP_GITHUB_TOKEN.split(',')\n  .reverse()\n  .join('');\n\nconst request = (operationName, variables = {}) => {\n  return (\n    axios\n      .post(\n        GraphQLEndPoint,\n        {\n          query: Root.GraphQL,\n          variables,\n          operationName,\n        },\n        {\n          headers: { Authorization: 'bearer ' + token },\n        }\n      )\n      // unwrap axios resp\n      .then(resp => resp.data)\n  );\n};\n\nexport default {\n  request,\n};\n","import React from 'react';\n\nimport SearchForm from './search-form.js';\nimport SearchResults from './search-results.js';\nimport ErrorMessages from './error-messages.js';\nimport api from '../api.js';\n\nconst PER_PAGE = 100;\n\nconst Root = () => {\n  const [currentResp, setCurrentResp] = React.useState({});\n  const pageRef = React.useRef();\n\n  const sendSearchQuery = async (query, navVars) => {\n    if (!navVars) {\n      // First page requset\n      navVars = { first: PER_PAGE };\n      pageRef.current = {\n        currentPageNumber: 1,\n        cursors: { 1: { after: undefined } },\n      };\n    }\n    setCurrentResp({ loading: true });\n    const resp = await api.request(`SearhGitHubUsers`, {\n      query,\n      ...navVars,\n    });\n    setCurrentResp({\n      query,\n      data: resp.data,\n      errors: resp.errors,\n    });\n  };\n\n  const fetchPage = ({ navType, endCursor }) => {\n    let afterCursor;\n    const pageData = pageRef.current;\n\n    if (navType === 'NEXT') {\n      pageData.currentPageNumber = pageData.currentPageNumber + 1;\n      pageData.cursors[pageData.currentPageNumber] = { after: endCursor };\n      afterCursor = endCursor;\n    }\n\n    if (navType === 'PREV') {\n      pageData.currentPageNumber = pageData.currentPageNumber - 1;\n      afterCursor = pageData.cursors[pageData.currentPageNumber].after;\n    }\n\n    // Remember the curret page start cursor for a subsequent \"prev\" nav\n    pageRef.current = pageData;\n\n    sendSearchQuery(currentResp.query, {\n      first: PER_PAGE,\n      after: afterCursor,\n    });\n  };\n\n  return (\n    <div className=\"root\">\n      <header className=\"root-header\">GitHub User Search</header>\n      <SearchForm disabled={currentResp.loading} onSubmit={sendSearchQuery} />\n      {currentResp.loading && <div className=\"loading\">Loading...</div>}\n      {currentResp.errors && <ErrorMessages errors={currentResp.errors} />}\n      {currentResp.data && (\n        <SearchResults\n          search={currentResp.data.search}\n          navigationAction={fetchPage}\n        />\n      )}\n    </div>\n  );\n};\n\nRoot.GraphQL = `\n  query SearhGitHubUsers ($query: String!, $first: Int!, $after: String) {\n    search(type: USER, query: $query, first: $first, after: $after) {\n      ...SearchResultsFragment\n    }\n  }\n\n  ${SearchResults.GraphQL}\n`;\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './components/root.js';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}