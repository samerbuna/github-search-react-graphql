{"version":3,"sources":["components/search-form.js","components/pagination-links.js","components/github-avatar.js","components/list-user-item.js","components/list-organization-item.js","components/search-result-list.js","components/search-results.js","components/error-messages.js","api.js","components/root.js","index.js"],"names":["SearchForm","_ref","disabled","onSubmit","react_default","a","createElement","className","event","preventDefault","form","target","query","value","type","name","placeholder","PaginationLinks","hasPreviousPage","hasNextPage","startCursor","endCursor","navigationAction","handleNavigation","navType","onClick","GraphQL","GitHubAvatar","login","src","href","concat","rel","alt","height","width","ListUserItem","bio","location","company","avatarUrl","followers","github_avatar","totalCount","ListOrganizationItem","description","websiteUrl","SearchResultList","edges","map","_ref2","cursor","node","list_user_item","Object","assign","key","list_organization_item","Error","SearchResults","search","userCount","search_result_list","pagination_links","pageInfo","ErrorMessages","errors","e","message","join","api","operationName","variables","arguments","length","undefined","axios","post","Root","headers","Authorization","then","resp","data","_React$useState","React","useState","_React$useState2","slicedToArray","currentResp","setCurrentResp","pageRef","useRef","sendSearchQuery","asyncToGenerator","regenerator_default","mark","_callee","navVars","wrap","_context","prev","next","first","current","currentPageNumber","cursors","1","after","loading","objectSpread","sent","stop","_x","_x2","apply","this","search_form","error_messages","search_results","afterCursor","pageData","ReactDOM","render","root","document","getElementById"],"mappings":"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","file":"static/js/main.62b7e9bd.chunk.js","sourcesContent":["import React from 'react';\n\nconst SearchForm = ({ disabled, onSubmit }) => {\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.target;\n    onSubmit(form.query.value);\n  };\n  return (\n    <div className=\"search-form\">\n      <form onSubmit={handleSubmit}>\n        <input type=\"search\" name=\"query\" placeholder=\"Search GitHub Users\" />\n        <button type=\"submit\" disabled={disabled}>\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n","import React from 'react';\n\nconst PaginationLinks = ({\n  hasPreviousPage,\n  hasNextPage,\n  startCursor,\n  endCursor,\n  navigationAction,\n}) => {\n  const handleNavigation = navType => event => {\n    event.preventDefault();\n    navigationAction({ navType, startCursor, endCursor });\n  };\n  return (\n    <div className=\"pagination-links\">\n      <button\n        onClick={handleNavigation('PREV')}\n        className=\"previous-page\"\n        disabled={!hasPreviousPage}\n      >\n        Prev\n      </button>\n      <button\n        onClick={handleNavigation('NEXT')}\n        className=\"next-page\"\n        disabled={!hasNextPage}\n      >\n        Next\n      </button>\n    </div>\n  );\n};\n\nPaginationLinks.GraphQL = `\n  fragment PaginationLinksFragment on PageInfo {\n    hasPreviousPage\n    hasNextPage\n    startCursor\n    endCursor\n  }\n`;\n\nexport default PaginationLinks;\n","import React from 'react';\n\nconst GitHubAvatar = ({ login, src }) => (\n  <a\n    href={`https://github.com/${login}`}\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n  >\n    <img\n      className=\"avatar\"\n      src={src}\n      alt={`@${login}`}\n      height=\"96\"\n      width=\"96\"\n    />\n  </a>\n);\n\nexport default GitHubAvatar;\n","import React from 'react';\n\nimport GitHubAvatar from './github-avatar.js';\n\nconst ListUserItem = ({\n  login,\n  name,\n  bio,\n  location,\n  company,\n  avatarUrl,\n  followers,\n}) => {\n  return (\n    <div className=\"user-list-item\">\n      <div className=\"user-avatar\">\n        <GitHubAvatar src={avatarUrl} login={login} />\n      </div>\n\n      <div className=\"user-main-info\">\n        <div className=\"user-name\">\n          <a\n            href={`https://github.com/${login}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {login}\n          </a>\n          <div>{name}</div>\n        </div>\n        {followers && (\n          <div className=\"user-followers\">{followers.totalCount} followers</div>\n        )}\n        <div className=\"user-bio\">{bio}</div>\n      </div>\n\n      <div className=\"user-location-info\">\n        <div>{company}</div>\n        <div>{location}</div>\n      </div>\n    </div>\n  );\n};\n\nListUserItem.GraphQL = `\n  fragment ListUserItemFragment on User {\n    login\n    name\n    bio\n    location\n    company\n    avatarUrl(size: 96)\n    followers {\n      totalCount\n    }\n  }\n`;\n\nexport default ListUserItem;\n","import React from 'react';\n\nimport GitHubAvatar from './github-avatar.js';\n\nconst ListOrganizationItem = ({\n  login,\n  name,\n  description,\n  location,\n  avatarUrl,\n  websiteUrl,\n}) => {\n  return (\n    <div className=\"user-list-item\">\n      <div className=\"user-avatar\">\n        <GitHubAvatar src={avatarUrl} login={login} />\n      </div>\n\n      <div className=\"user-main-info\">\n        <div className=\"user-name\">\n          <a\n            href={`https://github.com/${login}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {login}\n          </a>\n          <div>{name}</div>\n        </div>\n        {websiteUrl && (\n          <a href={websiteUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n            {websiteUrl}\n          </a>\n        )}\n        <div className=\"user-bio\">{description}</div>\n      </div>\n\n      <div className=\"user-location-info\">\n        <div>{location}</div>\n      </div>\n    </div>\n  );\n};\n\nListOrganizationItem.GraphQL = `\n  fragment ListOrganizationItemFragment on Organization {\n    login\n    name\n    description\n    location\n    websiteUrl\n    avatarUrl(size: 96)\n  }\n`;\n\nexport default ListOrganizationItem;\n","import React from 'react';\n\nimport ListUserItem from './list-user-item.js';\nimport ListOrganizationItem from './list-organization-item';\n\nconst SearchResultList = ({ edges }) => {\n  return (\n    <div className=\"user-list\">\n      {edges.map(({ cursor, node }) => {\n        switch (node.type) {\n          case 'User':\n            return <ListUserItem key={cursor} {...node} />;\n          case 'Organization':\n            return <ListOrganizationItem key={cursor} {...node} />;\n          default:\n            throw Error(`Unsupported search list item type ${node.type}`);\n        }\n      })}\n    </div>\n  );\n};\n\nSearchResultList.GraphQL = `\n  fragment SearchResultListFragment on SearchResultItemEdge {\n    cursor\n    node {\n      type: __typename\n      ... on User {\n        ...ListUserItemFragment\n      }\n      ... on Organization {\n        ...ListOrganizationItemFragment\n      }\n    }\n  }\n\n  ${ListUserItem.GraphQL}\n  ${ListOrganizationItem.GraphQL}\n`;\n\nexport default SearchResultList;\n","import React from 'react';\n\nimport PaginationLinks from './pagination-links.js';\nimport SearchResultList from './search-result-list.js';\n\nconst SearchResults = ({ search, navigationAction }) => {\n  return (\n    <div className=\"search-results\">\n      <div className=\"main\">\n        <div className=\"total-count\">Total Matching: {search.userCount}</div>\n        <SearchResultList edges={search.edges} />\n        <PaginationLinks\n          {...search.pageInfo}\n          navigationAction={navigationAction}\n        />\n      </div>\n    </div>\n  );\n};\n\nSearchResults.GraphQL = `\n  fragment SearchResultsFragment on SearchResultItemConnection {\n    userCount\n    pageInfo {\n      ...PaginationLinksFragment\n    }\n    edges {\n      ...SearchResultListFragment\n    }\n  }\n\n  ${PaginationLinks.GraphQL}\n  ${SearchResultList.GraphQL}\n`;\n\nexport default SearchResults;\n","import React from 'react';\n\nconst ErrorMessages = ({ errors }) => {\n  return <div className=\"errors\">{errors.map(e => e.message).join(', ')}</div>;\n};\n\nexport default ErrorMessages;\n","import axios from 'axios';\nimport Root from './components/root.js';\n\nconst GraphQLEndPoint = 'https://api.github.com/graphql';\nconst token = process.env.REACT_APP_GITHUB_TOKEN;\n\nconst request = (operationName, variables = {}) => {\n  return (\n    axios\n      .post(\n        GraphQLEndPoint,\n        {\n          query: Root.GraphQL,\n          variables,\n          operationName,\n        },\n        {\n          headers: { Authorization: 'bearer ' + token },\n        }\n      )\n      // unwrap axios resp\n      .then(resp => resp.data)\n  );\n};\n\nexport default {\n  request,\n};\n","import React from 'react';\n\nimport SearchForm from './search-form.js';\nimport SearchResults from './search-results.js';\nimport ErrorMessages from './error-messages.js';\nimport api from '../api.js';\n\nconst PER_PAGE = 100;\n\nconst Root = () => {\n  const [currentResp, setCurrentResp] = React.useState({});\n  const pageRef = React.useRef();\n\n  const sendSearchQuery = async (query, navVars) => {\n    if (!navVars) {\n      // First page requset\n      navVars = { first: PER_PAGE };\n      pageRef.current = {\n        currentPageNumber: 1,\n        cursors: { 1: { after: undefined } },\n      };\n    }\n    setCurrentResp({ loading: true });\n    const resp = await api.request(`SearhGitHubUsers`, {\n      query,\n      ...navVars,\n    });\n    setCurrentResp({\n      query,\n      data: resp.data,\n      errors: resp.errors,\n    });\n  };\n\n  const fetchPage = ({ navType, endCursor }) => {\n    let afterCursor;\n    const pageData = pageRef.current;\n\n    if (navType === 'NEXT') {\n      pageData.currentPageNumber = pageData.currentPageNumber + 1;\n      pageData.cursors[pageData.currentPageNumber] = { after: endCursor };\n      afterCursor = endCursor;\n    }\n\n    if (navType === 'PREV') {\n      pageData.currentPageNumber = pageData.currentPageNumber - 1;\n      afterCursor = pageData.cursors[pageData.currentPageNumber].after;\n    }\n\n    // Remember the curret page start cursor for a subsequent \"prev\" nav\n    pageRef.current = pageData;\n\n    sendSearchQuery(currentResp.query, {\n      first: PER_PAGE,\n      after: afterCursor,\n    });\n  };\n\n  return (\n    <div className=\"root\">\n      <header className=\"root-header\">GitHub User Search</header>\n      <SearchForm disabled={currentResp.loading} onSubmit={sendSearchQuery} />\n      {currentResp.loading && <div className=\"loading\">Loading...</div>}\n      {currentResp.errors && <ErrorMessages errors={currentResp.errors} />}\n      {currentResp.data && (\n        <SearchResults\n          search={currentResp.data.search}\n          navigationAction={fetchPage}\n        />\n      )}\n    </div>\n  );\n};\n\nRoot.GraphQL = `\n  query SearhGitHubUsers ($query: String!, $first: Int!, $after: String) {\n    search(type: USER, query: $query, first: $first, after: $after) {\n      ...SearchResultsFragment\n    }\n  }\n\n  ${SearchResults.GraphQL}\n`;\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './components/root.js';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}