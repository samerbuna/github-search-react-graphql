(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,r){e.exports=r(42)},21:function(e,a,r){},42:function(e,a,r){"use strict";r.r(a);var n=r(0),t=r.n(n),s=r(10),c=r.n(s),o=(r(21),r(3)),i=r.n(o),l=r(14),u=r(11),m=r(13),g=function(e){var a=e.disabled,r=e.onSubmit;return t.a.createElement("div",{className:"search-form"},t.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target;r(a.query.value)}},t.a.createElement("input",{type:"search",name:"query",placeholder:"Search GitHub Users"}),t.a.createElement("button",{type:"submit",disabled:a},"Search")))},d=function(e){var a=e.hasPreviousPage,r=e.hasNextPage,n=e.startCursor,s=e.endCursor,c=e.navigationAction,o=function(e){return function(a){a.preventDefault(),c({navType:e,startCursor:n,endCursor:s})}};return t.a.createElement("div",{className:"pagination-links"},t.a.createElement("button",{onClick:o("PREV"),className:"previous-page",disabled:!a},"Prev"),t.a.createElement("button",{onClick:o("NEXT"),className:"next-page",disabled:!r},"Next"))};d.GraphQL="\n  fragment PaginationLinksFragment on PageInfo {\n    hasPreviousPage\n    hasNextPage\n    startCursor\n    endCursor\n  }\n";var v=d,f=function(e){var a=e.login,r=e.src;return t.a.createElement("a",{href:"https://github.com/".concat(a),target:"_blank",rel:"noopener noreferrer"},t.a.createElement("img",{className:"avatar",src:r,alt:"@".concat(a),height:"96",width:"96"}))},h=function(e){var a=e.login,r=e.name,n=e.bio,s=e.location,c=e.company,o=e.avatarUrl,i=e.followers;return t.a.createElement("div",{className:"user-list-item"},t.a.createElement("div",{className:"user-avatar"},t.a.createElement(f,{src:o,login:a})),t.a.createElement("div",{className:"user-main-info"},t.a.createElement("div",{className:"user-name"},t.a.createElement("a",{href:"https://github.com/".concat(a),target:"_blank",rel:"noopener noreferrer"},a),t.a.createElement("div",null,r)),i&&t.a.createElement("div",{className:"user-followers"},i.totalCount," followers"),t.a.createElement("div",{className:"user-bio"},n)),t.a.createElement("div",{className:"user-location-info"},t.a.createElement("div",null,c),t.a.createElement("div",null,s)))};h.GraphQL="\n  fragment ListUserItemFragment on User {\n    login\n    name\n    bio\n    location\n    company\n    avatarUrl(size: 96)\n    followers {\n      totalCount\n    }\n  }\n";var p=h,E=function(e){var a=e.login,r=e.name,n=e.description,s=e.location,c=e.avatarUrl,o=e.websiteUrl;return t.a.createElement("div",{className:"user-list-item"},t.a.createElement("div",{className:"user-avatar"},t.a.createElement(f,{src:c,login:a})),t.a.createElement("div",{className:"user-main-info"},t.a.createElement("div",{className:"user-name"},t.a.createElement("a",{href:"https://github.com/".concat(a),target:"_blank",rel:"noopener noreferrer"},a),t.a.createElement("div",null,r)),o&&t.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},o),t.a.createElement("div",{className:"user-bio"},n)),t.a.createElement("div",{className:"user-location-info"},t.a.createElement("div",null,s)))};E.GraphQL="\n  fragment ListOrganizationItemFragment on Organization {\n    login\n    name\n    description\n    location\n    websiteUrl\n    avatarUrl(size: 96)\n  }\n";var b=E,N=function(e){var a=e.edges;return t.a.createElement("div",{className:"user-list"},a.map(function(e){var a=e.cursor,r=e.node;switch(r.type){case"User":return t.a.createElement(p,Object.assign({key:a},r));case"Organization":return t.a.createElement(b,Object.assign({key:a},r));default:throw Error("Unsupported search list item type ".concat(r.type))}}))};N.GraphQL="\n  fragment SearchResultListFragment on SearchResultItemEdge {\n    cursor\n    node {\n      type: __typename\n      ... on User {\n        ...ListUserItemFragment\n      }\n      ... on Organization {\n        ...ListOrganizationItemFragment\n      }\n    }\n  }\n\n  ".concat(p.GraphQL,"\n  ").concat(b.GraphQL,"\n");var y=N,L=function(e){var a=e.search,r=e.navigationAction;return t.a.createElement("div",{className:"search-results"},t.a.createElement("div",{className:"main"},t.a.createElement("div",{className:"total-count"},"Total Matching: ",a.userCount),t.a.createElement(y,{edges:a.edges}),t.a.createElement(v,Object.assign({},a.pageInfo,{navigationAction:r}))))};L.GraphQL="\n  fragment SearchResultsFragment on SearchResultItemConnection {\n    userCount\n    pageInfo {\n      ...PaginationLinksFragment\n    }\n    edges {\n      ...SearchResultListFragment\n    }\n  }\n\n  ".concat(v.GraphQL,"\n  ").concat(y.GraphQL,"\n");var P=L,U=function(e){var a=e.errors;return t.a.createElement("div",{className:"errors"},a.map(function(e){return e.message}).join(", "))},S=r(12),w=r.n(S),G=Object({NODE_ENV:"production",PUBLIC_URL:"/github-search-react-graphql"}).REACT_APP_GITHUB_TOKEN,C=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w.a.post("https://api.github.com/graphql",{query:O.GraphQL,variables:a,operationName:e},{headers:{Authorization:"bearer "+G}}).then(function(e){return e.data})},k=function(){var e=t.a.useState({}),a=Object(m.a)(e,2),r=a[0],n=a[1],s=t.a.useRef(),c=function(){var e=Object(u.a)(i.a.mark(function e(a,r){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r||(r={first:100},s.current={currentPageNumber:1,cursors:{1:{after:void 0}}}),n({loading:!0}),e.next=4,C("SearhGitHubUsers",Object(l.a)({query:a},r));case 4:t=e.sent,n({query:a,data:t.data,errors:t.errors});case 6:case"end":return e.stop()}},e)}));return function(a,r){return e.apply(this,arguments)}}();return t.a.createElement("div",{className:"root"},t.a.createElement("header",{className:"root-header"},"GitHub User Search"),t.a.createElement(g,{disabled:r.loading,onSubmit:c}),r.loading&&t.a.createElement("div",{className:"loading"},"Loading..."),r.errors&&t.a.createElement(U,{errors:r.errors}),r.data&&t.a.createElement(P,{search:r.data.search,navigationAction:function(e){var a,n=e.navType,t=e.endCursor,o=s.current;"NEXT"===n&&(o.currentPageNumber=o.currentPageNumber+1,o.cursors[o.currentPageNumber]={after:t},a=t),"PREV"===n&&(o.currentPageNumber=o.currentPageNumber-1,a=o.cursors[o.currentPageNumber].after),s.current=o,c(r.query,{first:100,after:a})}}))};k.GraphQL="\n  query SearhGitHubUsers ($query: String!, $first: Int!, $after: String) {\n    search(type: USER, query: $query, first: $first, after: $after) {\n      ...SearchResultsFragment\n    }\n  }\n\n  ".concat(P.GraphQL,"\n");var O=k;c.a.render(t.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e5c1d4b7.chunk.js.map